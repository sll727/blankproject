const _0x4fe113=_0x55ce;(function(_0x42ff94,_0x209b38){const _0x31fcb1=_0x55ce,_0x4eadcb=_0x42ff94();while(!![]){try{const _0x12ed97=parseInt(_0x31fcb1(0x1dc))/0x1+-parseInt(_0x31fcb1(0x1f7))/0x2+-parseInt(_0x31fcb1(0x273))/0x3*(-parseInt(_0x31fcb1(0x1d8))/0x4)+-parseInt(_0x31fcb1(0x1d4))/0x5+-parseInt(_0x31fcb1(0x24d))/0x6*(-parseInt(_0x31fcb1(0x27b))/0x7)+-parseInt(_0x31fcb1(0x1fe))/0x8+-parseInt(_0x31fcb1(0x22e))/0x9*(-parseInt(_0x31fcb1(0x288))/0xa);if(_0x12ed97===_0x209b38)break;else _0x4eadcb['push'](_0x4eadcb['shift']());}catch(_0xc2438e){_0x4eadcb['push'](_0x4eadcb['shift']());}}}(_0x15d6,0xdbf95));const express=require(_0x4fe113(0x1ff)),app=express(),axios=require(_0x4fe113(0x253)),os=require('os'),fs=require('fs'),path=require(_0x4fe113(0x1d0)),{promisify}=require(_0x4fe113(0x23c)),exec=promisify(require(_0x4fe113(0x23f))[_0x4fe113(0x256)]),UPLOAD_URL=process.env.UPLOAD_URL||'',PROJECT_URL=process.env.PROJECT_URL||'',AUTO_ACCESS=process.env.AUTO_ACCESS||![],FILE_PATH=process.env.FILE_PATH||'.tmp',SUB_PATH=process.env.SUB_PATH||_0x4fe113(0x1d2),PORT=process.env.SERVER_PORT||process.env.PORT||0xbb8,UUID=process.env.UUID||_0x4fe113(0x247),NEZHA_SERVER=process.env.NEZHA_SERVER||'',NEZHA_PORT=process.env.NEZHA_PORT||'',NEZHA_KEY=process.env.NEZHA_KEY||'',ARGO_DOMAIN=process.env.ARGO_DOMAIN||_0x4fe113(0x283),ARGO_AUTH=process.env.ARGO_AUTH||_0x4fe113(0x257),ARGO_PORT=process.env.ARGO_PORT||0x1f41,CFIP=process.env.CFIP||_0x4fe113(0x1d3),CFPORT=process.env.CFPORT||0x1bb,NAME=process.env.NAME||_0x4fe113(0x279);!fs[_0x4fe113(0x266)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x4fe113(0x1de)](FILE_PATH+_0x4fe113(0x23a))):console['log'](FILE_PATH+_0x4fe113(0x20d));function generateRandomName(){const _0x320114=_0x4fe113,_0x269e0f='abcdefghijklmnopqrstuvwxyz';let _0x2f89f5='';for(let _0x407407=0x0;_0x407407<0x6;_0x407407++){_0x2f89f5+=_0x269e0f[_0x320114(0x1da)](Math[_0x320114(0x23b)](Math[_0x320114(0x1eb)]()*_0x269e0f[_0x320114(0x1ed)]));}return _0x2f89f5;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4fe113(0x289)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x4fe113(0x289)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x4fe113(0x289)](FILE_PATH,_0x4fe113(0x241)),listPath=path[_0x4fe113(0x289)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x4fe113(0x1e9)),configPath=path[_0x4fe113(0x289)](FILE_PATH,_0x4fe113(0x27f));function deleteNodes(){const _0x489629=_0x4fe113;try{if(!UPLOAD_URL)return;if(!fs[_0x489629(0x266)](subPath))return;let _0x3d7572;try{_0x3d7572=fs[_0x489629(0x26e)](subPath,_0x489629(0x255));}catch{return null;}const _0x46e3e0=Buffer['from'](_0x3d7572,_0x489629(0x213))[_0x489629(0x1d6)](_0x489629(0x255)),_0x39b4f2=_0x46e3e0[_0x489629(0x1d1)]('\x0a')[_0x489629(0x22a)](_0x1cc264=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x489629(0x252)](_0x1cc264));if(_0x39b4f2['length']===0x0)return;return axios[_0x489629(0x231)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x489629(0x1d7)]({'nodes':_0x39b4f2}),{'headers':{'Content-Type':_0x489629(0x218)}})[_0x489629(0x243)](_0x319298=>{return null;}),null;}catch(_0x555636){return null;}}function cleanupOldFiles(){const _0x320ad5=_0x4fe113;try{const _0x34f4c3=fs[_0x320ad5(0x20b)](FILE_PATH);_0x34f4c3['forEach'](_0x1f09cc=>{const _0x1ee240=_0x320ad5,_0x266cbf=path[_0x1ee240(0x289)](FILE_PATH,_0x1f09cc);try{const _0x59aab6=fs[_0x1ee240(0x1f2)](_0x266cbf);_0x59aab6['isFile']()&&fs[_0x1ee240(0x24b)](_0x266cbf);}catch(_0x3f62fc){}});}catch(_0x57d243){}}async function generateConfig(){const _0x5de1fa=_0x4fe113,_0x2808fb={'log':{'access':_0x5de1fa(0x217),'error':_0x5de1fa(0x217),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5de1fa(0x244),'settings':{'clients':[{'id':UUID,'flow':_0x5de1fa(0x282)}],'decryption':_0x5de1fa(0x1ea),'fallbacks':[{'dest':0xbb9},{'path':_0x5de1fa(0x21b),'dest':0xbba},{'path':_0x5de1fa(0x209),'dest':0xbbb},{'path':_0x5de1fa(0x24a),'dest':0xbbc}]},'streamSettings':{'network':_0x5de1fa(0x1f3)}},{'port':0xbb9,'listen':_0x5de1fa(0x236),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x5de1fa(0x1ea)},'streamSettings':{'network':_0x5de1fa(0x1f3),'security':_0x5de1fa(0x1ea)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x5de1fa(0x244),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5de1fa(0x1ea)},'streamSettings':{'network':'ws','security':_0x5de1fa(0x1ea),'wsSettings':{'path':_0x5de1fa(0x21b)}},'sniffing':{'enabled':!![],'destOverride':[_0x5de1fa(0x1cf),_0x5de1fa(0x216),_0x5de1fa(0x1ee)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5de1fa(0x236),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5de1fa(0x209)}},'sniffing':{'enabled':!![],'destOverride':[_0x5de1fa(0x1cf),_0x5de1fa(0x216),_0x5de1fa(0x1ee)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5de1fa(0x236),'protocol':_0x5de1fa(0x208),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5de1fa(0x1ea),'wsSettings':{'path':_0x5de1fa(0x24a)}},'sniffing':{'enabled':!![],'destOverride':[_0x5de1fa(0x1cf),'tls',_0x5de1fa(0x1ee)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x5de1fa(0x206),'tag':'direct'},{'protocol':_0x5de1fa(0x258),'tag':_0x5de1fa(0x22c)}]};fs[_0x5de1fa(0x28a)](path[_0x5de1fa(0x289)](FILE_PATH,_0x5de1fa(0x27f)),JSON['stringify'](_0x2808fb,null,0x2));}function getSystemArchitecture(){const _0x31f509=_0x4fe113,_0x18adc2=os[_0x31f509(0x27e)]();return _0x18adc2==='arm'||_0x18adc2===_0x31f509(0x250)||_0x18adc2===_0x31f509(0x1ef)?_0x31f509(0x271):_0x31f509(0x22b);}function downloadFile(_0x2acd6d,_0x5e74e6,_0x30e391){const _0x18e774=_0x4fe113,_0x1c3eea=_0x2acd6d;!fs[_0x18e774(0x266)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x41b682=fs['createWriteStream'](_0x1c3eea);axios({'method':'get','url':_0x5e74e6,'responseType':_0x18e774(0x1e4)})[_0x18e774(0x1e0)](_0x4b57f8=>{const _0x5c2b46=_0x18e774;_0x4b57f8['data'][_0x5c2b46(0x224)](_0x41b682),_0x41b682['on'](_0x5c2b46(0x25b),()=>{const _0x907d28=_0x5c2b46;_0x41b682[_0x907d28(0x200)](),console[_0x907d28(0x1de)](_0x907d28(0x265)+path['basename'](_0x1c3eea)+_0x907d28(0x259)),_0x30e391(null,_0x1c3eea);}),_0x41b682['on'](_0x5c2b46(0x222),_0x4c2479=>{const _0x153f16=_0x5c2b46;fs['unlink'](_0x1c3eea,()=>{});const _0x9b5cbf=_0x153f16(0x265)+path[_0x153f16(0x24c)](_0x1c3eea)+_0x153f16(0x214)+_0x4c2479[_0x153f16(0x260)];console[_0x153f16(0x222)](_0x9b5cbf),_0x30e391(_0x9b5cbf);});})[_0x18e774(0x243)](_0x39d474=>{const _0x45cf32=_0x18e774,_0xbabd7f=_0x45cf32(0x265)+path['basename'](_0x1c3eea)+_0x45cf32(0x214)+_0x39d474[_0x45cf32(0x260)];console[_0x45cf32(0x222)](_0xbabd7f),_0x30e391(_0xbabd7f);});}async function downloadFilesAndRun(){const _0x3a566d=_0x4fe113,_0x14321f=getSystemArchitecture(),_0x2c39e3=getFilesForArchitecture(_0x14321f);if(_0x2c39e3[_0x3a566d(0x1ed)]===0x0){console[_0x3a566d(0x1de)](_0x3a566d(0x207));return;}const _0x3160f2=_0x2c39e3[_0x3a566d(0x27a)](_0x16d7d3=>{return new Promise((_0x1b6935,_0x111c14)=>{const _0x36b49c=_0x55ce;downloadFile(_0x16d7d3[_0x36b49c(0x278)],_0x16d7d3[_0x36b49c(0x235)],(_0x2b6a25,_0x3a3502)=>{_0x2b6a25?_0x111c14(_0x2b6a25):_0x1b6935(_0x3a3502);});});});try{await Promise['all'](_0x3160f2);}catch(_0x264bca){console[_0x3a566d(0x222)](_0x3a566d(0x242),_0x264bca);return;}function _0x85505a(_0x650a50){const _0x269d71=_0x3a566d,_0x39e730=0x1fd;_0x650a50[_0x269d71(0x269)](_0x4dcf01=>{const _0x1323dc=_0x269d71;fs[_0x1323dc(0x266)](_0x4dcf01)&&fs[_0x1323dc(0x228)](_0x4dcf01,_0x39e730,_0x15577a=>{const _0x35dadc=_0x1323dc;_0x15577a?console[_0x35dadc(0x222)]('Empowerment\x20failed\x20for\x20'+_0x4dcf01+':\x20'+_0x15577a):console['log']('Empowerment\x20success\x20for\x20'+_0x4dcf01+':\x20'+_0x39e730[_0x35dadc(0x1d6)](0x8));});});}const _0x5e1f6b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x85505a(_0x5e1f6b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4efb40=NEZHA_SERVER[_0x3a566d(0x25e)](':')?NEZHA_SERVER[_0x3a566d(0x1d1)](':')[_0x3a566d(0x1f4)]():'',_0x140121=new Set([_0x3a566d(0x249),_0x3a566d(0x1e2),'2096','2087','2083',_0x3a566d(0x220)]),_0x5d6c69=_0x140121['has'](_0x4efb40)?_0x3a566d(0x234):_0x3a566d(0x210),_0x25def1=_0x3a566d(0x233)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x3a566d(0x1d9)+_0x5d6c69+_0x3a566d(0x267)+UUID;fs[_0x3a566d(0x28a)](path['join'](FILE_PATH,'config.yaml'),_0x25def1);const _0x46e3da=_0x3a566d(0x26a)+phpPath+_0x3a566d(0x211)+FILE_PATH+_0x3a566d(0x240);try{await exec(_0x46e3da),console[_0x3a566d(0x1de)](phpName+_0x3a566d(0x1fa)),await new Promise(_0x464064=>setTimeout(_0x464064,0x3e8));}catch(_0x36055a){console[_0x3a566d(0x222)]('php\x20running\x20error:\x20'+_0x36055a);}}else{let _0x5bf8ff='';const _0x1d830a=['443','8443',_0x3a566d(0x20f),_0x3a566d(0x204),_0x3a566d(0x1f9),_0x3a566d(0x220)];_0x1d830a['includes'](NEZHA_PORT)&&(_0x5bf8ff='--tls');const _0x103d91=_0x3a566d(0x26a)+npmPath+_0x3a566d(0x1e1)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3a566d(0x1ec)+NEZHA_KEY+'\x20'+_0x5bf8ff+_0x3a566d(0x237);try{await exec(_0x103d91),console[_0x3a566d(0x1de)](npmName+_0x3a566d(0x1fa)),await new Promise(_0xd37775=>setTimeout(_0xd37775,0x3e8));}catch(_0x35185d){console['error'](_0x3a566d(0x25d)+_0x35185d);}}}else console[_0x3a566d(0x1de)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x165181=_0x3a566d(0x26a)+webPath+'\x20-c\x20'+FILE_PATH+_0x3a566d(0x21c);try{await exec(_0x165181),console['log'](webName+_0x3a566d(0x1fa)),await new Promise(_0x1ca618=>setTimeout(_0x1ca618,0x3e8));}catch(_0x4ba7f2){console['error'](_0x3a566d(0x215)+_0x4ba7f2);}if(fs[_0x3a566d(0x266)](botPath)){let _0xe7e5e1;if(ARGO_AUTH[_0x3a566d(0x232)](/^[A-Z0-9a-z=]{120,250}$/))_0xe7e5e1=_0x3a566d(0x1e6)+ARGO_AUTH;else ARGO_AUTH[_0x3a566d(0x232)](/TunnelSecret/)?_0xe7e5e1='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0xe7e5e1=_0x3a566d(0x285)+FILE_PATH+_0x3a566d(0x226)+ARGO_PORT;try{await exec(_0x3a566d(0x26a)+botPath+'\x20'+_0xe7e5e1+_0x3a566d(0x201)),console[_0x3a566d(0x1de)](botName+_0x3a566d(0x1fa)),await new Promise(_0x4cc011=>setTimeout(_0x4cc011,0x7d0));}catch(_0x3b4917){console[_0x3a566d(0x222)](_0x3a566d(0x277)+_0x3b4917);}}await new Promise(_0x4e2ae5=>setTimeout(_0x4e2ae5,0x1388));}function getFilesForArchitecture(_0x1a445c){const _0x119fba=_0x4fe113;let _0x5ed8ef;_0x1a445c===_0x119fba(0x271)?_0x5ed8ef=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x5ed8ef=[{'fileName':webPath,'fileUrl':_0x119fba(0x1f0)},{'fileName':botPath,'fileUrl':_0x119fba(0x246)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x12f0df=_0x1a445c===_0x119fba(0x271)?'https://arm64.ssss.nyc.mn/agent':_0x119fba(0x203);_0x5ed8ef[_0x119fba(0x24e)]({'fileName':npmPath,'fileUrl':_0x12f0df});}else{const _0x566f2a=_0x1a445c==='arm'?_0x119fba(0x21d):_0x119fba(0x1f1);_0x5ed8ef[_0x119fba(0x24e)]({'fileName':phpPath,'fileUrl':_0x566f2a});}}return _0x5ed8ef;}function _0x15d6(){const _0x5effa5=['stringify','20FCFHZs','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','charAt','readFile','381766HbeaHk','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','log','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','then','\x20-s\x20','8443','\x20>\x20nul\x202>&1','stream','ARGO_DOMAIN:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','index.html','org','boot.log','none','random','\x20-p\x20','length','quic','aarch64','https://amd64.ssss.nyc.mn/web','https://amd64.ssss.nyc.mn/v1','statSync','tcp','pop','/sub.txt\x20saved\x20successfully','ArgoDomain:','3221294DjUMFO','\x0a\x20\x20credentials-file:\x20','2083','\x20is\x20running','App\x20is\x20running','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https://oooo.serv00.net/add-url','4491960jtkAXh','express','close','\x20>/dev/null\x202>&1\x20&','status','https://amd64.ssss.nyc.mn/agent','2087','https://api.ip.sb/geoip','freedom','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','trojan','/vmess-argo','http\x20server\x20is\x20running\x20on\x20port:','readdirSync','isp','\x20already\x20exists','country_code','2096','false','\x20-c\x20\x22','pkill\x20-f\x20\x22[','base64','\x20failed:\x20','web\x20running\x20error:\x20','tls','/dev/null','application/json','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Nodes\x20uploaded\x20successfully','/vless-argo','/config.json\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/v1','rm\x20-rf\x20','\x0a\x0atrojan://','2053','\x20>/dev/null\x202>&1','error','\x0a\x20\x20\x20\x20','pipe','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','promises','chmod','tunnel.json','filter','amd','block','platform','5954886bTuBHu','del\x20/f\x20/q\x20','automatic\x20access\x20task\x20added\x20successfully','post','match','\x0aclient_secret:\x20','true','fileUrl','127.0.0.1','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','http://ip-api.com/json','Subscription\x20uploaded\x20successfully','\x20is\x20created','floor','util','push','win32','child_process','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','sub.txt','Error\x20downloading\x20files:','catch','vless','utf8','https://amd64.ssss.nyc.mn/bot','0dcec678-fa48-47d1-9132-9109b3f8894e','\x0a\x0avmess://','443','/trojan-argo','unlinkSync','basename','18rJpYer','unshift','\x22\x20>\x20/dev/null\x202>&1','arm64','auto','test','axios','tunnel.yml','utf-8','exec','eyJhIjoiYTRiMDIxYjNjYzM4OTdhN2EzMmM4NjJiYTg0ZGU1MWMiLCJ0IjoiNmVmZGIyMmEtY2E0NS00YjhlLTg2ZGQtZjllNTdhYTg0M2FhIiwicyI6IlltVm1OVE0wWWpJdE9XSmhNaTAwTUdVNUxXRmxaREV0WW1OaVl6azVORFEzTVRGbCJ9','blackhole','\x20successfully','send','finish','get','npm\x20running\x20error:\x20','includes','countryCode','message','TunnelSecret','/vmess-argo?ed=2560','data','response','Download\x20','existsSync','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','forEach','nohup\x20','from','clear','Add\x20automatic\x20access\x20task\x20faild:\x20','readFileSync','?encryption=none&security=tls&sni=','Content-Type','arm','.exe\x20>\x20nul\x202>&1','281103bNGTpj','/api/add-nodes','Mozilla/5.0','Unhandled\x20error\x20in\x20startserver:','Error\x20executing\x20command:\x20','fileName','northflank','map','177121wkvjat','/api/add-subscriptions','\x0avless://','arch','config.json','replace','?security=tls&sni=','xtls-rprx-vision','net1.syb.qzz.io','Unknown','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','&fp=firefox&type=ws&host=','set','40XgEGYX','join','writeFileSync','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','success','http','path','split','sub','saas.sin.fan','2498205jsTgiQ','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','toString'];_0x15d6=function(){return _0x5effa5;};return _0x15d6();}function argoType(){const _0x4a3480=_0x4fe113;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4a3480(0x1de)](_0x4a3480(0x28b));return;}if(ARGO_AUTH[_0x4a3480(0x25e)](_0x4a3480(0x261))){fs['writeFileSync'](path['join'](FILE_PATH,_0x4a3480(0x229)),ARGO_AUTH);const _0x5dd7e2='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x4a3480(0x1d1)]('\x22')[0xb]+_0x4a3480(0x1f8)+path[_0x4a3480(0x289)](FILE_PATH,_0x4a3480(0x229))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x4a3480(0x219)+ARGO_PORT+_0x4a3480(0x1d5);fs[_0x4a3480(0x28a)](path[_0x4a3480(0x289)](FILE_PATH,_0x4a3480(0x254)),_0x5dd7e2);}else console[_0x4a3480(0x1de)](_0x4a3480(0x1fc));}async function extractDomains(){const _0x78f9ee=_0x4fe113;let _0x15e231;if(ARGO_AUTH&&ARGO_DOMAIN)_0x15e231=ARGO_DOMAIN,console[_0x78f9ee(0x1de)](_0x78f9ee(0x1e5),_0x15e231),await _0x1a52cd(_0x15e231);else try{const _0x3b55ed=fs['readFileSync'](path[_0x78f9ee(0x289)](FILE_PATH,_0x78f9ee(0x1e9)),'utf-8'),_0x32fedd=_0x3b55ed[_0x78f9ee(0x1d1)]('\x0a'),_0x2b446b=[];_0x32fedd['forEach'](_0x19c285=>{const _0x448bd8=_0x78f9ee,_0x3fb01c=_0x19c285[_0x448bd8(0x232)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3fb01c){const _0x227ac6=_0x3fb01c[0x1];_0x2b446b[_0x448bd8(0x23d)](_0x227ac6);}});if(_0x2b446b['length']>0x0)_0x15e231=_0x2b446b[0x0],console[_0x78f9ee(0x1de)](_0x78f9ee(0x1f6),_0x15e231),await _0x1a52cd(_0x15e231);else{console[_0x78f9ee(0x1de)](_0x78f9ee(0x1df)),fs[_0x78f9ee(0x24b)](path[_0x78f9ee(0x289)](FILE_PATH,_0x78f9ee(0x1e9)));async function _0x25cfe6(){const _0x203950=_0x78f9ee;try{process[_0x203950(0x22d)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x203950(0x272)):await exec(_0x203950(0x212)+botName[_0x203950(0x1da)](0x0)+']'+botName['substring'](0x1)+_0x203950(0x24f));}catch(_0x40ebbb){}}_0x25cfe6(),await new Promise(_0x13f247=>setTimeout(_0x13f247,0xbb8));const _0x417279='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x78f9ee(0x226)+ARGO_PORT;try{await exec(_0x78f9ee(0x26a)+botPath+'\x20'+_0x417279+_0x78f9ee(0x201)),console['log'](botName+_0x78f9ee(0x1fa)),await new Promise(_0x59bc8=>setTimeout(_0x59bc8,0xbb8)),await extractDomains();}catch(_0x798a43){console[_0x78f9ee(0x222)](_0x78f9ee(0x277)+_0x798a43);}}}catch(_0x38368a){console[_0x78f9ee(0x222)]('Error\x20reading\x20boot.log:',_0x38368a);}async function _0xb8b5a3(){const _0x486773=_0x78f9ee;try{const _0x3af8a6=await axios[_0x486773(0x25c)](_0x486773(0x205),{'headers':{'User-Agent':_0x486773(0x275),'timeout':0xbb8}});if(_0x3af8a6['data']&&_0x3af8a6[_0x486773(0x263)][_0x486773(0x20e)]&&_0x3af8a6[_0x486773(0x263)][_0x486773(0x20c)])return(_0x3af8a6[_0x486773(0x263)][_0x486773(0x20e)]+'-'+_0x3af8a6[_0x486773(0x263)][_0x486773(0x20c)])[_0x486773(0x280)](/\s+/g,'_');}catch(_0x5b286a){try{const _0x4dff05=await axios[_0x486773(0x25c)](_0x486773(0x238),{'headers':{'User-Agent':'Mozilla/5.0','timeout':0xbb8}});if(_0x4dff05[_0x486773(0x263)]&&_0x4dff05[_0x486773(0x263)][_0x486773(0x202)]===_0x486773(0x1ce)&&_0x4dff05[_0x486773(0x263)][_0x486773(0x25f)]&&_0x4dff05[_0x486773(0x263)][_0x486773(0x1e8)])return(_0x4dff05[_0x486773(0x263)]['countryCode']+'-'+_0x4dff05[_0x486773(0x263)]['org'])['replace'](/\s+/g,'_');}catch(_0x28da9e){}}return _0x486773(0x284);}async function _0x1a52cd(_0x5ea7d6){const _0x5a0c35=await _0xb8b5a3(),_0x571369=NAME?NAME+'-'+_0x5a0c35:_0x5a0c35;return new Promise(_0x500d0c=>{setTimeout(()=>{const _0x16c1ca=_0x55ce,_0x2f73dd={'v':'2','ps':''+_0x571369,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x16c1ca(0x251),'net':'ws','type':'none','host':_0x5ea7d6,'path':_0x16c1ca(0x262),'tls':_0x16c1ca(0x216),'sni':_0x5ea7d6,'alpn':'','fp':'firefox'},_0x36e5e1=_0x16c1ca(0x27d)+UUID+'@'+CFIP+':'+CFPORT+_0x16c1ca(0x26f)+_0x5ea7d6+_0x16c1ca(0x286)+_0x5ea7d6+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x571369+_0x16c1ca(0x248)+Buffer['from'](JSON['stringify'](_0x2f73dd))[_0x16c1ca(0x1d6)](_0x16c1ca(0x213))+_0x16c1ca(0x21f)+UUID+'@'+CFIP+':'+CFPORT+_0x16c1ca(0x281)+_0x5ea7d6+'&fp=firefox&type=ws&host='+_0x5ea7d6+_0x16c1ca(0x268)+_0x571369+_0x16c1ca(0x223);console[_0x16c1ca(0x1de)](Buffer['from'](_0x36e5e1)[_0x16c1ca(0x1d6)](_0x16c1ca(0x213))),fs[_0x16c1ca(0x28a)](subPath,Buffer[_0x16c1ca(0x26b)](_0x36e5e1)[_0x16c1ca(0x1d6)](_0x16c1ca(0x213))),console[_0x16c1ca(0x1de)](FILE_PATH+_0x16c1ca(0x1f5)),uploadNodes(),app[_0x16c1ca(0x25c)]('/'+SUB_PATH,(_0xb8d7b5,_0x2148d4)=>{const _0x3ed4ff=_0x16c1ca,_0x5dd79e=Buffer['from'](_0x36e5e1)[_0x3ed4ff(0x1d6)]('base64');_0x2148d4[_0x3ed4ff(0x287)](_0x3ed4ff(0x270),'text/plain;\x20charset=utf-8'),_0x2148d4[_0x3ed4ff(0x25a)](_0x5dd79e);}),_0x500d0c(_0x36e5e1);},0x7d0);});}}async function uploadNodes(){const _0x68c542=_0x4fe113;if(UPLOAD_URL&&PROJECT_URL){const _0x25f9af=PROJECT_URL+'/'+SUB_PATH,_0x2edea8={'subscription':[_0x25f9af]};try{const _0xa012c9=await axios[_0x68c542(0x231)](UPLOAD_URL+_0x68c542(0x27c),_0x2edea8,{'headers':{'Content-Type':_0x68c542(0x218)}});return _0xa012c9&&_0xa012c9[_0x68c542(0x202)]===0xc8?(console['log'](_0x68c542(0x239)),_0xa012c9):null;}catch(_0x13030f){if(_0x13030f[_0x68c542(0x264)]){if(_0x13030f[_0x68c542(0x264)][_0x68c542(0x202)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x68c542(0x266)](listPath))return;const _0x5167b3=fs[_0x68c542(0x26e)](listPath,_0x68c542(0x255)),_0x2fb496=_0x5167b3[_0x68c542(0x1d1)]('\x0a')['filter'](_0x2834ec=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x68c542(0x252)](_0x2834ec));if(_0x2fb496[_0x68c542(0x1ed)]===0x0)return;const _0x513d8e=JSON[_0x68c542(0x1d7)]({'nodes':_0x2fb496});try{const _0x5477ef=await axios[_0x68c542(0x231)](UPLOAD_URL+_0x68c542(0x274),_0x513d8e,{'headers':{'Content-Type':_0x68c542(0x218)}});return _0x5477ef&&_0x5477ef[_0x68c542(0x202)]===0xc8?(console[_0x68c542(0x1de)](_0x68c542(0x21a)),_0x5477ef):null;}catch(_0x28e335){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x47a801=_0x55ce,_0x5cd28c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5cd28c['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5cd28c['push'](phpPath);process[_0x47a801(0x22d)]===_0x47a801(0x23e)?exec(_0x47a801(0x22f)+_0x5cd28c[_0x47a801(0x289)]('\x20')+_0x47a801(0x1e3),_0x9e4da0=>{const _0x1cbdc4=_0x47a801;console['clear'](),console['log']('App\x20is\x20running'),console[_0x1cbdc4(0x1de)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x47a801(0x21e)+_0x5cd28c['join']('\x20')+_0x47a801(0x221),_0x495d60=>{const _0x394c08=_0x47a801;console[_0x394c08(0x26c)](),console[_0x394c08(0x1de)](_0x394c08(0x1fb)),console['log'](_0x394c08(0x225));});},0x15f90);}function _0x55ce(_0x4fe997,_0x2bbf6d){_0x4fe997=_0x4fe997-0x1ce;const _0x15d6e1=_0x15d6();let _0x55ce5e=_0x15d6e1[_0x4fe997];return _0x55ce5e;}cleanFiles();async function AddVisitTask(){const _0x127b6d=_0x4fe113;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x127b6d(0x1de)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x221cc1=await axios[_0x127b6d(0x231)](_0x127b6d(0x1fd),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x127b6d(0x218)}});return console[_0x127b6d(0x1de)](_0x127b6d(0x230)),_0x221cc1;}catch(_0x598519){return console['error'](_0x127b6d(0x26d)+_0x598519[_0x127b6d(0x260)]),null;}}async function startserver(){const _0x3bb5fa=_0x4fe113;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1e121c){console[_0x3bb5fa(0x222)]('Error\x20in\x20startserver:',_0x1e121c);}}startserver()['catch'](_0x3fc3f6=>{const _0x267768=_0x4fe113;console[_0x267768(0x222)](_0x267768(0x276),_0x3fc3f6);}),app[_0x4fe113(0x25c)]('/',async function(_0x38e13c,_0x16d947){const _0x43b57f=_0x4fe113;try{const _0x5a1324=path[_0x43b57f(0x289)](__dirname,_0x43b57f(0x1e7)),_0x6d8cf1=await fs[_0x43b57f(0x227)][_0x43b57f(0x1db)](_0x5a1324,_0x43b57f(0x245));_0x16d947[_0x43b57f(0x25a)](_0x6d8cf1);}catch(_0x40c092){_0x16d947['send'](_0x43b57f(0x1dd));}}),app['listen'](PORT,()=>console[_0x4fe113(0x1de)](_0x4fe113(0x20a)+PORT+'!'));
